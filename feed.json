{
  "version": "https://jsonfeed.org/version/1.1",
  "title": "LearnData 开源笔记",
  "home_page_url": "https://newzone.top/",
  "feed_url": "https://newzone.top/feed.json",
  "description": "开源工具、效率方法、心理学探索的自我提升笔记，记录并输出一切能让自己提升的知识。",
  "favicon": "https://newzone.top/favicon.ico",
  "items": [
    {
      "title": "MacOS自动更换桌面壁纸",
      "url": "https://newzone.top/posts/2024-03-01-blog_MacOS-Wallpaper-Change.html",
      "id": "https://newzone.top/posts/2024-03-01-blog_MacOS-Wallpaper-Change.html",
      "summary": "本次文章通过一个脚本搭配MacOS（Sequoia 15.2）系统的自动化脚本实现一个定期自动更换桌面壁纸的功能，桌面壁纸来源于https://bing.ee123.net，思路来源于Grok AI整理并收集。 注意事项 确保 Python 3 已安装 确保 Python 3 已经安装 requests 库 如果壁纸没有正确更换，检查日志文件（/Use...",
      "content_html": "<p>本次文章通过一个脚本搭配MacOS（Sequoia 15.2）系统的自动化脚本实现一个定期自动更换桌面壁纸的功能，桌面壁纸来源于https://bing.ee123.net，思路来源于Grok AI整理并收集。</p>\n<h2>注意事项</h2>\n<ul>\n<li>确保 Python 3 已安装</li>\n<li>确保 Python 3 已经安装 requests 库</li>\n<li>如果壁纸没有正确更换，检查日志文件（/Users/your_username/wallpaper_change.log）以排查问题。</li>\n<li>确保壁纸文件夹和脚本文件有适当的读写权限。</li>\n</ul>\n<h2>提供几个壁纸API，可自行替换脚本中的WALLPAPER_URL</h2>\n<ul>\n<li><a href=\"https://bing.ee123.net\" target=\"_blank\" rel=\"noopener noreferrer\">Bing壁纸</a></li>\n<li><a href=\"https://api.liuzhuai.com/img/\" target=\"_blank\" rel=\"noopener noreferrer\">美女壁纸</a></li>\n<li><a href=\"https://api.btstu.cn/sjbz/api.php?lx=meizi&amp;format=images\" target=\"_blank\" rel=\"noopener noreferrer\">随机美女壁纸2</a></li>\n<li><a href=\"https://api.btstu.cn/sjbz/api.php?lx=dongman&amp;format=images\" target=\"_blank\" rel=\"noopener noreferrer\">随机二次元壁纸</a></li>\n</ul>\n<h2>Python脚本</h2>\n<ul>\n<li>需要将脚本中WALLPAPER_DIR修改为你存放壁纸的实际文件夹路径（例如/Users/your_username/Pictures/Wallpapers）</li>\n<li>确保壁纸文件夹中包含支持的图片格式（.jpg, .jpeg, .png, .gif）</li>\n<li>将日志路径中的 your_username 替换为你的 macOS 用户名。</li>\n</ul>\n<p>Python脚本保存后存放到/Users/your_username/Scripts/change_wallpaper.py</p>\n<div class=\"language-python line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"python\" data-title=\"python\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">import</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> os</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">import</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> requests</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">import</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> subprocess</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">from</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> datetime </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">import</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> datetime</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">import</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> logging</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">import</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> glob</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 设置保存壁纸的文件夹路径，请修改为你的路径</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#D19A66\">WALLPAPER_DIR</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> =</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \"/Users/your_username/Pictures/Wallpapers\"</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 必应随机壁纸 API</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#D19A66\">WALLPAPER_URL</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> =</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \"https://bing.ee123.net/img/rand?size=UHD\"</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 设置日志</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">logging.</span><span style=\"--shiki-light:#383A42;--shiki-dark:#61AFEF\">basicConfig</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic\">    filename</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">f</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"/Users/your_username/wallpaper_change_</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">{</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">datetime.</span><span style=\"--shiki-light:#383A42;--shiki-dark:#61AFEF\">now</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">().</span><span style=\"--shiki-light:#383A42;--shiki-dark:#61AFEF\">strftime</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">'%Y%m'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">}</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">.log\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic\">    level</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">logging.</span><span style=\"--shiki-light:#383A42;--shiki-dark:#D19A66\">INFO</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic\">    format</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">%(asctime)s</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> - </span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">%(levelname)s</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> - </span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">%(message)s</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">def</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> clear_old_wallpapers</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">():</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">    \"\"\"删除壁纸文件夹中的旧壁纸文件\"\"\"</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    try</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">        wallpaper_files </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> glob.</span><span style=\"--shiki-light:#383A42;--shiki-dark:#61AFEF\">glob</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(os.path.</span><span style=\"--shiki-light:#383A42;--shiki-dark:#61AFEF\">join</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#D19A66\">WALLPAPER_DIR</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"wallpaper_*.jpg\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">))</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        for</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> file</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> in</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> wallpaper_files:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">            os.</span><span style=\"--shiki-light:#383A42;--shiki-dark:#61AFEF\">remove</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">file</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">            logging.</span><span style=\"--shiki-light:#383A42;--shiki-dark:#61AFEF\">info</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">f</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"已删除旧壁纸: </span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">{</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">file</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">}</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    except</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#ABB2BF\"> Exception</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> as</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> e:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">        logging.</span><span style=\"--shiki-light:#383A42;--shiki-dark:#61AFEF\">error</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">f</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"删除旧壁纸失败: </span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">{</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">str</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(e)</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">}</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">def</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> download_wallpaper</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">():</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">    \"\"\"从必应下载随机壁纸并保存到本地\"\"\"</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    try</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\">        # 创建壁纸文件夹（如果不存在）</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">        os.</span><span style=\"--shiki-light:#383A42;--shiki-dark:#61AFEF\">makedirs</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#D19A66\">WALLPAPER_DIR</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic\">exist_ok</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">True</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\">        # 获取当前时间作为文件名</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">        time_str </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> datetime.</span><span style=\"--shiki-light:#383A42;--shiki-dark:#61AFEF\">now</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">().</span><span style=\"--shiki-light:#383A42;--shiki-dark:#61AFEF\">strftime</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"%Y%m</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">%d</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">_%H%M%S\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">        wallpaper_path </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> os.path.</span><span style=\"--shiki-light:#383A42;--shiki-dark:#61AFEF\">join</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#D19A66\">WALLPAPER_DIR</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">f</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"wallpaper_</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">{</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">time_str</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">}</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">.jpg\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\">        # 下载图片</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">        response </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> requests.</span><span style=\"--shiki-light:#383A42;--shiki-dark:#61AFEF\">get</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#D19A66\">WALLPAPER_URL</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic\">stream</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">True</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> response.status_code </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">==</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 200</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">            with</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\"> open</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(wallpaper_path, </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">'wb'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">as</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> f:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">                for</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> chunk </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">in</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> response.</span><span style=\"--shiki-light:#383A42;--shiki-dark:#61AFEF\">iter_content</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">1024</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">):</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">                    f.</span><span style=\"--shiki-light:#383A42;--shiki-dark:#61AFEF\">write</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(chunk)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">            logging.</span><span style=\"--shiki-light:#383A42;--shiki-dark:#61AFEF\">info</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">f</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"壁纸下载成功: </span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">{</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">wallpaper_path</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">}</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">            return</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> wallpaper_path</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        else</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">            logging.</span><span style=\"--shiki-light:#383A42;--shiki-dark:#61AFEF\">error</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">f</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"下载壁纸失败，状态码: </span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">{</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">response.status_code</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">}</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">            return</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> None</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    except</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#ABB2BF\"> Exception</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> as</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> e:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">        logging.</span><span style=\"--shiki-light:#383A42;--shiki-dark:#61AFEF\">error</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">f</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"下载壁纸时出错: </span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">{</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">str</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(e)</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">}</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        return</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> None</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">def</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> change_wallpaper</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">():</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">    \"\"\"更改桌面壁纸\"\"\"</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\">    # 先清理旧壁纸</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#61AFEF\">    clear_old_wallpapers</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\">    # 下载新壁纸</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    wallpaper_path </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#61AFEF\"> download_wallpaper</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    if</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> not</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> wallpaper_path </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">or</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> not</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> os.path.</span><span style=\"--shiki-light:#383A42;--shiki-dark:#61AFEF\">exists</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(wallpaper_path):</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">        logging.</span><span style=\"--shiki-light:#383A42;--shiki-dark:#61AFEF\">error</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"没有可用的壁纸文件\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        return</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    try</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\">        # 修正后的 AppleScript，兼容多显示器和最新 macOS</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">        script </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> f</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"\"\"</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">          tell application \"System Events\"</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">            tell every desktop</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">              set picture to \"</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">{</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">wallpaper_path</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">}</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">            end tell</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">          end tell</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">        \"\"\"</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">        result </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> subprocess.</span><span style=\"--shiki-light:#383A42;--shiki-dark:#61AFEF\">run</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">([</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">'osascript'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">'-e'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, script], </span><span style=\"--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic\">capture_output</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">True</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic\">text</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">True</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic\">check</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">True</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">        logging.</span><span style=\"--shiki-light:#383A42;--shiki-dark:#61AFEF\">info</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">f</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"壁纸已更改为: </span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">{</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">wallpaper_path</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">}</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">        logging.</span><span style=\"--shiki-light:#383A42;--shiki-dark:#61AFEF\">debug</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">f</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"AppleScript 输出: </span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">{</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">result.stdout</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">}</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    except</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> subprocess.CalledProcessError </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">as</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> e:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">        logging.</span><span style=\"--shiki-light:#383A42;--shiki-dark:#61AFEF\">error</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">f</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"更改壁纸失败: </span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">{</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">str</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(e)</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">}</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">        logging.</span><span style=\"--shiki-light:#383A42;--shiki-dark:#61AFEF\">error</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">f</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"AppleScript 错误输出: </span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">{</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">e.stderr</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">}</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    except</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#ABB2BF\"> Exception</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> as</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> e:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">        logging.</span><span style=\"--shiki-light:#383A42;--shiki-dark:#61AFEF\">error</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">f</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"更改壁纸时发生未知错误: </span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">{</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">str</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(e)</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">}</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">if</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> __name__</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> ==</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \"__main__\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#61AFEF\">    change_wallpaper</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><h2>设置定时任务</h2>\n<p>使用 macOS 的 launchd 来定时运行脚本。创建一个 plist 文件来配置定时任务。</p>\n<p>脚本说明：</p>\n<ul>\n<li>脚本会每隔1800s(半小时)运行一次（可自行修改来调整间隔）</li>\n</ul>\n<div class=\"language-xml line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"xml\" data-title=\"xml\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&lt;?</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">xml</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> version</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"1.0\"</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> encoding</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"UTF-8\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">?&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&lt;!</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">DOCTYPE</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> plist</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> PUBLIC \"-//Apple//DTD PLIST 1.0//EN\" \"http://www.apple.com/DTDs/PropertyList-1.0.dtd\"&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">plist</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> version</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"1.0\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">dict</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    &lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">key</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;Label&lt;/</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">key</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    &lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">string</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;com.user.change_wallpaper&lt;/</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">string</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    &lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">key</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;ProgramArguments&lt;/</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">key</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    &lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">array</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">        &lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">string</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;/usr/bin/python3&lt;/</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">string</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">        &lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">string</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;/Users/your_username/Scripts/change_wallpaper.py&lt;/</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">string</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    &lt;/</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">array</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    &lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">key</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;StartInterval&lt;/</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">key</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    &lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">integer</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;1800&lt;/</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">integer</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    &lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">key</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;StandardOutPath&lt;/</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">key</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    &lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">string</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;/Users/your_username/wallpaper_change.log&lt;/</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">string</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    &lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">key</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;StandardErrorPath&lt;/</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">key</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    &lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">string</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;/Users/your_username/wallpaper_change.log&lt;/</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">string</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&lt;/</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">dict</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&lt;/</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">plist</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><h2>配置launchd</h2>\n<ul>\n<li>将上述 plist 文件保存到 ~/Library/LaunchAgents/com.user.change_wallpaper.plist。</li>\n<li>将 your_username 替换为你的 macOS 用户名，并确保脚本路径正确。</li>\n<li>加载定时任务:</li>\n</ul>\n<div class=\"language-bash line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">  launchctl</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> load</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> ~/Library/LaunchAgents/com.user.change_wallpaper.plist</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">``</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">*</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 启动定时任务：</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">```</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">bash</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">launchctl</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> start com.user.change_wallpaper</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>",
      "date_published": "2025-04-16T00:00:00.000Z",
      "date_modified": "2025-04-16T05:47:55.000Z",
      "authors": [],
      "tags": [
        "使用指南",
        "MacOS"
      ]
    },
    {
      "title": "博客文章样例 3",
      "url": "https://newzone.top/posts/2024-03-02-blog_example3.html",
      "id": "https://newzone.top/posts/2024-03-02-blog_example3.html",
      "summary": "博客文章内容，支持 Markdown 和 HTML 语言。",
      "content_html": "<p>博客文章内容，支持 Markdown 和 HTML 语言。</p>\n",
      "date_published": "2025-01-20T00:00:00.000Z",
      "date_modified": "2025-01-20T10:25:04.000Z",
      "authors": [],
      "tags": [
        "工具"
      ]
    },
    {
      "title": "博客文章样例 2",
      "url": "https://newzone.top/posts/2024-03-02-blog_example2.html",
      "id": "https://newzone.top/posts/2024-03-02-blog_example2.html",
      "summary": "博客文章内容，支持 Markdown 和 HTML 语言。",
      "content_html": "<p>博客文章内容，支持 Markdown 和 HTML 语言。</p>\n",
      "date_published": "2024-03-02T00:00:00.000Z",
      "date_modified": "2025-01-20T08:04:50.000Z",
      "authors": [],
      "tags": [
        "工具"
      ]
    }
  ]
}